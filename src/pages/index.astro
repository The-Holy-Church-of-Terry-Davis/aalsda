---
import Layout from "../layouts/Layout.astro";

const response = await fetch(
  "https://github.com/The-Holy-Church-of-Terry-Davis/aalsda-data/blob/main/header.json?raw=true"
);

if (!response.ok) {
  throw new Error("Couldn't get header data from GitHub.");
}

const data = await response.json();
const headerString = data.text;
---

<Layout title="AALSDA">
  <div style="padding-bottom: 11.7vh;">
    <small style="color: red;">Still in development.</small>
    <div id="headline">
      <header>Headline</header>
      <article>{headerString}</article>
    </div>
    <table>
      <tbody>
        <tr class="width-99p">
          <td>
            <strong><u>Primary Information</u></strong>
          </td>
        </tr>
        <tr class="width-99p">
          <td>
            <a href="#">Bills and Resolutions</a>
            <a href="#">Passed Acts</a>
            <a href="#">Cases</a>
            <a href="#">Reports</a>
          </td>
          <td class="td-spacer"></td>
          <td>
            <a href="#">Public Notices</a>
            <a href="#">Petitions</a>
            <a href="#">Watchlist</a>
          </td>
        </tr>
        <tr>
          <td>
            <br />
            <strong><u>Membership</u></strong>
          </td>
        </tr>
        <tr class="width-99p">
          <td>
            <a href="#">The Board</a>
            <a href="#">General</a>
          </td>
          <td class="td-spacer"></td>
          <td>
            <a href="#">Join AALSDA</a>
          </td>
        </tr>
        <tr>
          <td>
            <br />
            <strong><u>Public Documents</u></strong>
          </td>
        </tr>
        <tr class="width-99p">
          <td>
            <a href="/charter">Charter</a>
          </td>
          <td class="td-spacer"></td>
          <td>
            <a href="#">Directory</a>
          </td>
        </tr>
        <tr>
          <td>
            <br />
            <strong><u>Parent Organizations</u></strong>
          </td>
        </tr>
        <tr class="width-99p">
          <td>
            <a href="https://thcotd.org" target="_blank"
              >The Holy Chuch of Terry Davis</a
            >
          </td>
          <td class="td-spacer"></td>
          <td>
            <a
              href="https://disboard.org/server/1149457339343192124"
              target="_blank">Polar Express 2: New Generation</a
            >
          </td>
        </tr>
        <tr>
          <td>
            <br />
            <strong><u>Partners</u></strong>
          </td>
        </tr>
        <tr class="width-99p">
          <td>
            <p>Contact us if you're interested.</p>
          </td>
        </tr>
        <tr>
          <td>
            <br />
            <strong><u>Contact Us</u></strong>
          </td>
        </tr>
        <tr class="width-99p">
          <td>
            <!-- <p>Don't.</p> -->
            <img src="/images/donot.webp" alt="Don't." width="125" />
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</Layout>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const anchors = document.getElementsByTagName("a");
    for (let anchor of anchors) {
      const url = new URL(anchor.href);
      if (url.pathname === '/' && !anchor.classList.contains("ignore-url-check") && !anchor.href.includes("://thcotd.org") ) {
        anchor.style.color = "rgb(225,100,100)";
      }
    }
  });
</script>

<style is:global>
  .td-spacer {
    width: 25%;
  }
</style>
<style>
  header {
    padding: 5px 10px;
    margin-bottom: 5px;
    font-weight: bold;
    font-size: 1.1rem;
    color: whitesmoke;
    background-color: var(--c-accent);
  }
  #headline {
    display: flex;
    flex-direction: column;
    border-left: 2px solid var(--c-accent);
    border-right: 2px solid var(--c-accent);
    border-bottom: 2px solid var(--c-accent);
    margin-bottom: 10px;
    padding-bottom: 10px;
  }
  #headline article {
    font-size: 0.9rem;
    padding: 0 10px;
  }
  td {
    font-size: 0.9rem;
  }
  td a {
    display: block;
    text-decoration: none;
    color: var(--c-accent);
  }
  td a,
  td p {
    font-weight: bold;
    padding-bottom: 5px;
  }
  td a:hover {
    color: var(--c-hover);
  }
  td strong {
    font-size: 1.05rem;
  }
</style>
